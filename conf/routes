# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file                   controllers.Assets.at(path="/public", file)

#API
POST    /api/subscriptions              com.keendly.controllers.api.SubscriptionController.createSubscription()
GET     /api/subscriptions/:id          com.keendly.controllers.api.SubscriptionController.getSubscription(id: String)
PATCH   /api/subscriptions/:id          com.keendly.controllers.api.SubscriptionController.updateSubscription(id: String)

POST    /api/deliveries                 com.keendly.controllers.api.DeliveryController.createDelivery()
PATCH   /api/deliveries/:id             com.keendly.controllers.api.DeliveryController.updateDelivery(id: Long)
GET     /api/deliveries/:id             com.keendly.controllers.api.DeliveryController.getDelivery(id: Long)
GET     /api/deliveries                 com.keendly.controllers.api.DeliveryController.getDeliveries(page: Integer, pageSize: Integer)

GET     /api/feeds                      com.keendly.controllers.api.FeedController.getFeeds()
POST    /api/feeds/unread               com.keendly.controllers.api.FeedController.getUnread()
POST    /api/feeds/unreadCount          com.keendly.controllers.api.FeedController.getUnreadCount()
POST    /api/feeds/markAsRead           com.keendly.controllers.api.FeedController.markAsRead()

GET     /api/users/:id                  com.keendly.controllers.api.UserController.getUser(id: String)
PATCH   /api/users/:id                  com.keendly.controllers.api.UserController.updateUser(id: String)

# WEB
GET     /                               com.keendly.controllers.WebController.index()
GET     /login                          com.keendly.controllers.WebController.login(error: String ?= null)
POST    /oldReaderLogin                 com.keendly.controllers.LoginController.oldReaderLogin()
GET     /feedlyCallback                 com.keendly.controllers.LoginController.feedlyCallback(code: String, error: String)
GET     /inoreaderCallback              com.keendly.controllers.LoginController.inoReaderCallback(code: String, state: String, error: String ?= null)
GET     /feeds                          com.keendly.controllers.WebController.feeds()
GET     /deliveries                     com.keendly.controllers.WebController.deliveries()
GET     /user                           com.keendly.controllers.WebController.user()
GET     /logout                         com.keendly.controllers.WebController.logout()
