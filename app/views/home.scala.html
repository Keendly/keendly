@(subscriptions: List[adaptors.auth.Subscription], timezones: Map[String, Integer])(implicit session: play.mvc.Http.Session)

@main("Keendly") {
<nav>
    <div class="nav-wrapper container">
        <a href="#!" class="brand-logo">Logo</a>
        <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
        <ul class="right hide-on-med-and-down">
            <li><a href="sass.html">Home</a></li>
            <li><a href="badges.html">History</a></li>
            <li><a href="collapsible.html">Settings</a></li>
        </ul>
        <ul class="side-nav" id="mobile-demo">
            <li><a href="sass.html">Home</a></li>
            <li><a href="badges.html">History</a></li>
            <li><a href="collapsible.html">Settings</a></li>
        </ul>
    </div>
</nav>

<script type='text/javascript' src='@routes.Assets.at("javascripts/home.js")'></script>
<div class="container" id="subs-container">
<form>
    <div class="row">
        <div class="col s12 m6">
            <a class="waves-effect waves-light btn modal-trigger" id="deliver_now" href="#deliver_modal">Deliver now</a>
            <a class="waves-effect waves-light btn modal-trigger" id="schedule_delivery" href="#schedule_modal">Schedule</a>
        </div>
        <div class="input-field col offset-m3 s12 m3" id="search">
            <input id="search_box" type="search" required>
            <label for="search_box"><i class="material-icons">search</i></label>
        </div>
    </div>
    <table class="highlight" id="subscriptions">
        <thead>
        <tr>
            <th></th>
            <th>Title</th>
            <th>Scheduled</th>
            <th class="hide-on-small-only" >Last delivery</th>
        </tr>
        </thead>

        <tbody>
        @for((s, index) <- subscriptions.zipWithIndex){
        <tr>
            <td><input type="checkbox" class="filled-in" id="sub@index" name="@s.getFeedId()" /><label  for="sub@index"></label></td>
            <td class="feed_title">@s.getTitle()</td>
            <td></td>
            <td class="hide-on-small-only" ></td>
        </tr>
        }
        </tbody>
    </table>
</form>
</div>

<div id="deliver_modal" class="modal">
    <div class="modal-content" id="deliver_form">
        <h4>Deliver feeds</h4>
        <div class="progress" id="progress" style="display: none">
            <div class="indeterminate"></div>
        </div>
        <!-- Switch -->
        <div class="switch right-align">
            <label>
                Simple
                <input type="checkbox" id="mode">
                <span class="lever"></span>
                Detailed
            </label>
        </div>
        <p>
            <input type="checkbox" class="filled-in" id="include_images"/>
            <label for="include_images">Include images</label>
        </p>
        <p>
            <input type="checkbox" class="filled-in" id="mark_as_read" checked="checked"/>
            <label for="mark_as_read">Mark as read</label>
        </p>
        <p>
            <input type="checkbox" class="filled-in" id="full" checked="checked"/>
            <label for="full">Full article</label>
        </p>
        <ul class="collection" id="feed_list">
        </ul>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
        <a href="#!" class="modal-action waves-effect waves-green btn-flat" id="deliver_button">Deliver</a>
    </div>
</div>

<div id="schedule_modal" class="modal">
    <div class="modal-content" id="schedule_form">
        <h4>Schedule delivery</h4>
        <div class="progress" id="deliver_progress" style="display: none">
            <div class="indeterminate"></div>
        </div>
        <!-- Switch -->
        <div class="switch right-align">
            <label>
                Simple
                <input type="checkbox" id="schedule_mode">
                <span class="lever"></span>
                Detailed
            </label>
        </div>
        <p>
            <input type="checkbox" class="filled-in" id="schedule_include_images"/>
            <label for="schedule_include_images">Include images</label>
        </p>
        <p>
            <input type="checkbox" class="filled-in" id="schedule_mark_as_read" checked="checked"/>
            <label for="schedule_mark_as_read">Mark as read</label>
        </p>
        <p>
            <input type="checkbox" class="filled-in" id="schedule_full" checked="checked"/>
            <label for="schedule_full">Full article</label>
        </p>
        <p>
            <label>Timezone</label>
            <select id="timezones" class="browser-default">
                @for((key, value) <- timezones){
                    <option value="@key" offset="@value">@key</option>
                }
            </select>
        </p>

        <ul class="collection" id="schedule_feed_list">
        </ul>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
        <a href="#!" class="modal-action waves-effect waves-green btn-flat" id="schedule_button">Schedule</a>
    </div>
</div>


}
